(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{128:function(e,n,t){e.exports=t(165)},133:function(e,n,t){},165:function(e,n,t){"use strict";t.r(n);var r=t(0),a=t.n(r),o=t(23),i=t.n(o),c=(t(133),t(14)),l=t(15),u=t(18),s=t(16),m=t(19),d=t(8),b=t(11),p=t(70),f=t.n(p),v=t(92),h=t(71),g=t.n(h),E=t(35),O=function(e){return e&&e.replace(/[^a-zA-Z0-9]/gi," ").replace(/ +/g," ").toLowerCase().trim()},w=function(e,n){for(var t=e.Title,r=e.Year,a=e.Runtime,o=n.initialValues&&n.initialValues.id,i={},c="A movie with the same title is already exists, please choose another",l=Object.values(n.movieItems),u=0;u<l.length;u++){var s=l[u];o?O(t)===O(s.Title)&&o!==s.id&&(i.Title=c):O(t)===O(s.Title)&&(i.Title=c)}""===O(t)&&(i.Title="At least one english letter is required.");var m=(new Date).getFullYear(),d=parseInt(r);d>=1888&&d<=m&&!isNaN(r)||(i.Year="Valid year is between ".concat(1888," and ").concat(m));var b=parseInt(a);return(isNaN(a)||b<=0)&&(i.Runtime="Runtime must be a positive whole number."),e.Genres&&!e.Genres.length&&(i.Genres="Genres cannot be empty."),["Title","Year","Runtime","Director"].forEach(function(n){e[n]&&!e[n].trim().length&&(i[n]='Field "'.concat(n,'" is required.')),e[n]||(i[n]='Field "'.concat(n,'" is required.'))}),i},j=function(){return"".concat(Date.now().toString())},y=function(e){return O(e).split(" ").map(function(e){return e[0].toUpperCase()+e.substr(1)}).join(" ")},k=function(e){return JSON.parse(JSON.stringify(e).replace(/"\s+|\s+"/g,'"'))},M="https://www.omdbapi.com/?apikey=bddffa2e",D=function(e){return{type:"SET_SELECTED_MOVIE",payload:e}},x=function(){return function(e){e({type:"RESET_MODALS"}),e(Object(E.b)("editMovie"))}},T=function(e){return{type:"SET_TOAST",payload:{id:j(),message:e}}},I=t(3),S=t(4);function A(){var e=Object(I.a)(["\n  border: .1rem solid ",";\n  border-radius: .5rem;\n  background: ",";\n  color: ",";\n  transition: .3s;\n  padding: 1rem 2rem;\n  cursor: pointer;\n  outline: none;\n  display: inline-block;\n  text-align: center;\n  font-family: inherit;\n\n  &:not(:last-of-type) {\n    margin-right: 2rem;\n  }\n\n  &:hover, &:focus {\n    background: ",";\n    color: ",";\n  }\n"]);return A=function(){return e},e}var _=S.b.button(A(),function(e){return e.background},function(e){return e.background},function(e){return e.color},function(e){return e.color},function(e){return e.background}),C=function(e){return a.a.createElement(_,e,e.children)};function V(){var e=Object(I.a)(["\n  position: sticky;\n  top: 0;\n  width: 100%;\n  border-bottom: var(--main-color);\n  height: 5.5rem;\n  background: white;\n  box-shadow: 0 .5rem 1.3rem rgba(0, 0, 0, .3);\n  border-bottom: .5rem solid var(--main-color);\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  font-size: 1.8rem;\n  color: var(--main-color);\n  font-weight: 700;\n  padding: 0 1rem;\n  z-index: 10;\n"]);return V=function(){return e},e}var R=S.b.header(V()),z=Object(d.b)(null,{setAddMovieModal:function(){return{type:"SET_ADD_MOVIE_MODAL"}}})(function(e){var n=e.setAddMovieModal;return a.a.createElement(R,null,"Herolo Cinema",a.a.createElement(C,{color:"white",background:"var(--main-color)",onClick:n},"Add Movie"))});function L(){var e=Object(I.a)(["\n    visibility: visible;\n    opacity: 1;\n    transform: scale(1);\n  "]);return L=function(){return e},e}function Y(){var e=Object(I.a)(["\n  background: ",";\n  color: ",";\n  box-shadow: 0 0 1rem rgba(0, 0, 0, .2);\n  position: absolute;\n  transition: all 0.15s, transform 0.2s;\n  transform-origin: bottom right;\n  bottom: ",";\n  right: ",";\n  width: ",";\n  z-index: 1;\n  overflow-y: auto;\n  visibility: hidden;\n  opacity: 0;\n  transform: scale(.5);\n  border-radius: .3rem;\n  overflow: hidden;\n\n  ",";\n"]);return Y=function(){return e},e}var G=function(e){function n(){return Object(c.a)(this,n),Object(u.a)(this,Object(s.a)(n).apply(this,arguments))}return Object(m.a)(n,e),Object(l.a)(n,[{key:"componentDidUpdate",value:function(){this.props.isOpen?document.body.addEventListener("click",this.props.resetDropdown):document.body.removeEventListener("click",this.props.resetDropdown)}},{key:"render",value:function(){return a.a.createElement(N,this.props,this.props.children)}}]),n}(r.Component),N=S.b.div(Y(),function(e){return e.background},function(e){return e.color},function(e){return e.bottom},function(e){return e.right},function(e){return e.width},function(e){return e.isOpen&&Object(S.a)(L())});G.defaultProps={background:"white",color:"black",bottom:0,right:0,isOpen:!0};var F=G;function B(){var e=Object(I.a)(["\n  fill: currentColor;\n  width: 1.8rem;\n  height: 1.8rem;\n  margin-right: 1rem;\n"]);return B=function(){return e},e}function H(){var e=Object(I.a)(["\n  padding: 1rem .5rem;\n  display: flex;\n  justify-content: flex-start;\n  align-items: center;\n  transition: .3s;\n  color: ",";\n  background: ",";\n  font-size: 1.6rem;\n\n  &:hover {\n    background: ",";\n    color: ",";\n  }\n"]);return H=function(){return e},e}var U=S.b.li(H(),function(e){return e.color},function(e){return e.background},function(e){return e.color},function(e){return e.background}),P=S.b.svg(B()),q=function(e){return a.a.createElement(U,e,a.a.createElement(P,null,a.a.createElement("use",{xlinkHref:"./sprite.svg#".concat(e.icon)})),e.children)};function J(){var e=Object(I.a)(["\n  position: absolute;\n  left: 1rem;\n  bottom: 1rem;\n  color: #bebebe;\n"]);return J=function(){return e},e}function K(){var e=Object(I.a)(["\n  font-weight: bold;\n"]);return K=function(){return e},e}function W(){var e=Object(I.a)(["\n  display: inline-block;\n  box-shadow: 0 .2rem .5rem rgba(0, 0, 0, .2);\n  padding: .3rem .6rem;\n  background: #fff;\n  border-radius: .5rem;\n\n  &:not(:last-child) {\n    margin: 0 .5rem 1rem 0;\n  }\n"]);return W=function(){return e},e}function X(){var e=Object(I.a)(["\n  font-size: 1.65rem;\n  color: #363636;\n  padding: 0 .5rem;\n"]);return X=function(){return e},e}function Z(){var e=Object(I.a)(["\n  width: 2rem;\n  height: 2rem;\n  fill: var(--main-color);\n"]);return Z=function(){return e},e}function $(){var e=Object(I.a)(["\n  position: absolute;\n  right: 1rem;\n  bottom: 1rem;\n  background: transparent;\n  cursor: pointer;\n  z-index: 1;\n"]);return $=function(){return e},e}function Q(){var e=Object(I.a)(["\n  width: 35rem;\n  height: 30rem;\n  max-width: 100%;\n  background: white;\n  margin: 1rem;\n  padding: 1rem;\n  box-shadow: 0 0 1.1rem rgba(0, 0, 0, .2); \n  position: relative;\n  transition: .3s;\n  \n  &:hover {\n    transform: translateY(-.5rem);\n    box-shadow: 0 .5rem 1.5rem rgba(0, 0, 0, .2); \n  }\n"]);return Q=function(){return e},e}var ee=function(e){function n(){var e,t;Object(c.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(t=Object(u.a)(this,(e=Object(s.a)(n)).call.apply(e,[this].concat(a)))).state={isDropdownOpen:!1},t.handleDropdown=function(){t.setState({isDropdownOpen:!t.state.isDropdownOpen})},t}return Object(m.a)(n,e),Object(l.a)(n,[{key:"render",value:function(){var e=this,n=this.props.movieItem,t=n.id,r=n.Title,o=n.Year,i=n.Runtime,c=n.Genres,l=n.Director;return a.a.createElement(ne,null,a.a.createElement("h3",{className:"Title"},r,a.a.createElement(ae,null,"(",o,")")),a.a.createElement("div",{className:"Genres"},c.map(function(e,n){return a.a.createElement(oe,{key:n},e)})),a.a.createElement("div",{className:"Runtime"},i,"min"),a.a.createElement("div",{className:"Director"},a.a.createElement(ie,null,"Director: "),l),a.a.createElement(ce,null,"#m",t.substr(8)),a.a.createElement(te,{onClick:this.handleDropdown},a.a.createElement(re,null,a.a.createElement("use",{xlinkHref:"./sprite.svg#icon-list2"})),a.a.createElement(F,{isOpen:this.state.isDropdownOpen,resetDropdown:this.handleDropdown,width:"13rem"},a.a.createElement("ul",null,a.a.createElement(q,{color:"var(--main-color)",background:"white",icon:"icon-pencil",onClick:function(){return e.props.setEditModal(t)}},"Edit"),a.a.createElement(q,{color:"var(--danger-color)",background:"white",icon:"icon-bin2",onClick:function(){return e.props.setDeleteModal(t)}},"Delete")))))}}]),n}(r.Component),ne=S.b.div(Q()),te=S.b.div($()),re=S.b.svg(Z()),ae=S.b.span(X()),oe=S.b.span(W()),ie=S.b.span(K()),ce=S.b.span(J()),le=Object(d.b)(null,{setSelectedMovie:D,setEditModal:function(e){return function(n){n(D(e)),n({type:"SET_EDIT_MODAL"})}},setDeleteModal:function(e){return function(n){n(D(e)),n({type:"SET_DELETE_MODAL"})}}})(ee),ue=t(95);function se(){var e=Object(I.a)(["\n  width: 35rem;\n  height: 30rem;\n  margin: 1rem;\n  display: inline-block;\n"]);return se=function(){return e},e}var me=S.b.div(se()),de=function(){return a.a.createElement(me,null,a.a.createElement(ue.a,{height:300,width:350,speed:2,primaryColor:"#f2f3f4",secondaryColor:"#a8a8a8"}))};function be(){var e=Object(I.a)(["\n  display: flex;\n  justify-content: center;\n  flex-wrap: wrap;\n  width: 100%;\n  padding: 0 1rem;\n  margin: 0 auto;\n"]);return be=function(){return e},e}var pe=S.b.div(be()),fe=Object(d.b)(function(e){return{movieItems:e.movies.movieItems}},null)(function(e){var n=e.movieItems;return a.a.createElement(pe,null,Object.keys(n).length?Object.values(n).map(function(e){return a.a.createElement(le,{key:e.id,movieItem:e})}):Array.from({length:10}).map(function(e,n){return a.a.createElement(de,{key:n})}))}),ve=t(96);function he(){var e=Object(I.a)(["\n  position: fixed;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background: rgba(0, 0, 0, .25);\n  width: 100%;\n  height: 100%;\n  z-index: 20;\n  top: 0;\n  left: 0;\n  padding: 1rem;\n  opacity: 0;\n  transition: .3s;\n\n  &.entered {\n    opacity: 1;\n\n    ","  {\n      transform: scale(1) translateY(0);\n      opacity: 1;\n    }\n  }\n"]);return he=function(){return e},e}function ge(){var e=Object(I.a)(["\n  background: white;\n  box-shadow: 0 1rem 3rem rgba(0, 0, 0, .2);\n  padding: 3rem;\n  width: 100%;\n  max-width: 70rem;\n  border-radius: .5rem;\n  text-align: center;\n  transition: .3s;\n  transform: scale(.9) translateY(10rem);\n  opacity: 0;\n  overflow-y: auto;\n  max-height: 95vh;\n"]);return ge=function(){return e},e}var Ee=S.b.div(ge()),Oe=S.b.div(he(),Ee),we=function(e){return i.a.createPortal(a.a.createElement(ve.Transition,{in:e.isOpen,mountOnEnter:!0,unmountOnExit:!0,timeout:{enter:0,exit:300}},function(n){return a.a.createElement(Oe,{className:n},a.a.createElement(Ee,null,e.children))}),document.getElementById("modalMount"))},je=t(88),ye=t(87);function ke(){var e=Object(I.a)(["\n  width: 9rem;\n  height: 9rem;\n  color: currentColor;\n  display: block;\n  fill: currentColor;\n  margin: 0 auto;\n"]);return ke=function(){return e},e}function Me(){var e=Object(I.a)(["\n  font-size: 3rem;\n  letter-spacing: -.1rem;\n  text-align: center;\n  font-weight: 300;\n  color: #343434;\n  line-height: 2rem;\n  text-transform: capitalize;\n\n  &:after {\n    content: '';\n    display: block;\n    margin: 1.5rem auto 0 auto;\n    width: 73%;\n    height: .2rem;\n    background: var(--main-color);\n    margin-bottom: 3.3rem;\n  }\n"]);return Me=function(){return e},e}function De(){var e=Object(I.a)(["\n  max-width: 70%;\n  margin: 0 auto;\n\n  @media (max-width: 700px) {\n    max-width: 100%;\n  }\n"]);return De=function(){return e},e}var xe=S.b.form(De()),Te=S.b.header(Me()),Ie=S.b.svg(ke()),Se=function(e){return a.a.createElement(xe,e,a.a.createElement(Te,null,a.a.createElement(Ie,null,a.a.createElement("use",{xlinkHref:"./sprite.svg#".concat(e.icon)})),e.header),e.children)};function Ae(){var e=Object(I.a)(["\n  color: var(--danger-color);\n  font-size: 1.25rem;\n  text-align: left;\n"]);return Ae=function(){return e},e}function _e(){var e=Object(I.a)(["\n  position: absolute;\n  transition: .3s;\n  right: 0.4rem;\n  top: -.3rem;\n  width: 2rem;\n  height: 3rem;\n"]);return _e=function(){return e},e}function Ce(){var e=Object(I.a)(["\n  position: absolute;\n  transition: .25s;\n  cursor: text;\n  user-select: none;\n  color: #888;\n  left: .1rem;\n  top: 0;\n  transition: .3s;\n"]);return Ce=function(){return e},e}function Ve(){var e=Object(I.a)(["\n  border: none;\n  background: white;\n  border-bottom: .2rem solid #d4d4d4;\n  display: block;\n  padding: .5rem .2rem;\n  outline: none;\n  width: 100%;\n  transition: .3s;\n  font-family: inherit;\n  font-size: 1.5rem;\n\n\n  &:focus, &:valid {\n    border-color: var(--main-color);\n    \n    & ~ label, & ~ svg {\n      color: var(--main-color);\n      fill: var(--main-color);\n    }\n    \n    & ~ label {\n      font-size: 1.4rem;\n      transform: translateY(-1.7rem);\n    }\n  }\n\n  &.invalid {\n    border-color: var(--danger-color);\n  \n    & ~ label, & ~ svg {\n      color: var(--danger-color);\n      fill: var(--danger-color);\n    }\n  }\n"]);return Ve=function(){return e},e}function Re(){var e=Object(I.a)(["\n  position: relative;\n  margin-bottom: 3.3rem;\n  flex: 1;\n"]);return Re=function(){return e},e}var ze=S.b.div(Re()),Le=S.b.input(Ve()),Ye=S.b.label(Ce()),Ge=S.b.svg(_e()),Ne=S.b.div(Ae()),Fe=function(e){var n=e.input,t=e.name,r=e.label,o=e.icon,i=e.error;return a.a.createElement(ze,null,a.a.createElement(Le,Object.assign({},n,{id:t,required:!0,autoComplete:"off",className:i&&"invalid"})),a.a.createElement(Ne,null,i),a.a.createElement(Ye,{htmlFor:t},r),a.a.createElement(Ge,null,a.a.createElement("use",{xlinkHref:"./sprite.svg#".concat(o)})))},Be=t(52);function He(){var e=Object(I.a)(["\n  border-top-left-radius: 0;\n  border-bottom-left-radius: 0;\n  padding: 0.55rem 0.7rem;\n  transform: translateY(0.12rem);\n  box-shadow: 0 0.1rem 0.6rem rgba(0, 0, 0, 0.2);\n  cursor: pointer;\n"]);return He=function(){return e},e}function Ue(){var e=Object(I.a)(["\n      border-color: var(--danger-color);\n    "]);return Ue=function(){return e},e}function Pe(){var e=Object(I.a)(["\n  padding: 0.9rem 0.5rem;\n  border-radius: 0.5rem;\n  margin: 0 0 0.5rem 0;\n  border: none;\n  outline: none;\n  flex: 1;\n  box-shadow: 0 0.1rem 0.6rem rgba(0, 0, 0, 0.2);\n  font-family: inherit;\n  border: 0.2rem solid transparent;\n  max-width: 11rem;\n  border-top-right-radius: 0;\n  border-bottom-right-radius: 0;\n\n  ","\n"]);return Pe=function(){return e},e}function qe(){var e=Object(I.a)(["\n  display: inline-block;\n  height: 100%;\n  background: #0049a3;\n  padding: 0 0.8rem;\n  cursor: pointer;\n  margin-left: 0.7rem;\n  border-radius: 0.7rem;\n"]);return qe=function(){return e},e}function Je(){var e=Object(I.a)(["\n  display: inline-block;\n  background: var(--main-color);\n  border-radius: 0.5rem;\n  color: white;\n  box-shadow: 0 0.2rem 0.5rem rgba(0, 0, 0, 0.2);\n  padding: 0.63rem 0.7rem;\n  margin: 0 0.8rem 0.8rem 0;\n"]);return Je=function(){return e},e}function Ke(){var e=Object(I.a)(["\n  display: flex;\n  align-items: flex-start;\n  flex-wrap: wrap;\n  margin-bottom: 3rem;\n"]);return Ke=function(){return e},e}var We=function(e){function n(){var e,t;Object(c.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(t=Object(u.a)(this,(e=Object(s.a)(n)).call.apply(e,[this].concat(a)))).state={genres:Object(Be.a)(t.props.input.value)||[],inputValue:""},t.updateReduxForm=function(){var e=t.state.genres;t.props.input.onChange(e),e.length||t.props.manualValidate()},t.updateGenresState=function(){var e=t.state,n=e.genres,r=e.inputValue.trim();r.length&&t.setState({genres:Object(Be.a)(n).concat([r])},function(){t.updateReduxForm(),t.setState({inputValue:""})})},t.removeGenre=function(e){var n=Object(Be.a)(t.state.genres);n.splice(e,1),t.setState({genres:n},function(){return t.updateReduxForm()})},t.handleKeyDown=function(e){var n=13===e.which,r=9===e.which;(n||r)&&(t.state.inputValue.length&&(t.updateGenresState(),e.preventDefault()),n&&e.preventDefault())},t}return Object(m.a)(n,e),Object(l.a)(n,[{key:"componentDidMount",value:function(){this.updateReduxForm()}},{key:"render",value:function(){var e=this,n=this.props,t=n.meta,r=t.touched,o=t.error,i=n.isAddMovie;return a.a.createElement(Xe,null,this.state.genres.map(function(n,t){return a.a.createElement(Ze,{key:t},n,a.a.createElement($e,{onClick:function(){return e.removeGenre(t)}},"X"))}),a.a.createElement("div",null,a.a.createElement(Qe,Object.assign({},this.props.input,{value:this.state.inputValue,onChange:function(n){return e.setState({inputValue:n.target.value})},onKeyDown:this.handleKeyDown,onBlur:function(){return null},placeholder:"Add genre",showError:i?r&&o:o})),a.a.createElement(en,{onClick:this.updateGenresState},"Add")))}}]),n}(r.Component),Xe=S.b.div(Ke()),Ze=S.b.span(Je()),$e=S.b.span(qe()),Qe=S.b.input(Pe(),function(e){return e.showError&&Object(S.a)(Ue())}),en=Object(S.b)(Ze)(He()),nn=We,tn=function(e){function n(){var e,t;Object(c.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(t=Object(u.a)(this,(e=Object(s.a)(n)).call.apply(e,[this].concat(a)))).onSubmit=function(e){t.props.addMovie(e),t.props.initialize()},t}return Object(m.a)(n,e),Object(l.a)(n,[{key:"renderInput",value:function(e){var n=e.input,t=e.label,r=e.icon,o=e.meta,i=o.error,c=o.touched,l=n.name;return a.a.createElement(Fe,{input:n,name:l,label:t,icon:r,error:c&&i})}},{key:"render",value:function(){var e=this,n=this.props,t=n.showAddModal,r=n.handleSubmit,o=n.resetModals;return a.a.createElement(we,{isOpen:t},a.a.createElement(Se,{icon:"icon-play",header:"Add Movie",onSubmit:r(this.onSubmit),noValidate:!0},a.a.createElement(je.a,{name:"Title",label:"Title",icon:"icon-subject",component:this.renderInput}),a.a.createElement(je.a,{name:"Year",label:"Year",icon:"icon-calendar",component:this.renderInput}),a.a.createElement(je.a,{name:"Genres",component:nn,manualValidate:function(){return e.props.dispatch(Object(E.a)("addMovie","_validation",Math.random()))},isAddMovie:!0}),a.a.createElement(je.a,{name:"Runtime",label:"Runtime",icon:"icon-clock",component:this.renderInput}),a.a.createElement(je.a,{name:"Director",label:"Director",icon:"icon-user",component:this.renderInput}),a.a.createElement(je.a,{name:"_validation",component:function(){return a.a.createElement("span",{style:{display:"none"}})}}),a.a.createElement(C,{color:"white",background:"var(--main-color)",type:"submit"},"Create"),a.a.createElement(C,{color:"white",background:"var(--danger-color)",type:"button",onClick:function(){o(),e.props.initialize()}},"Cancel")))}}]),n}(r.Component),rn=Object(d.b)(function(e){var n=e.movies;return{movieItems:n.movieItems,showAddModal:n.showAddModal}},{resetModals:x,addMovie:function(e){return function(n){n({type:"ADD_MOVIE",payload:Object(b.a)({id:j()},k(e),{Title:y(e.Title)})}),n(x()),n(T("Movie added successfully"))}}})(Object(ye.a)({form:"addMovie",validate:w,destroyOnUnmount:!1,touchOnBlur:!1})(tn)),an=function(e){function n(){var e,t;Object(c.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(t=Object(u.a)(this,(e=Object(s.a)(n)).call.apply(e,[this].concat(a)))).onSubmit=function(e){t.props.updateMovieItems(e)},t}return Object(m.a)(n,e),Object(l.a)(n,[{key:"renderInput",value:function(e){var n=e.input,t=e.label,r=e.icon,o=e.meta.error,i=n.name;return a.a.createElement(Fe,{input:n,name:i,label:t,icon:r,error:o})}},{key:"render",value:function(){var e=this,n=this.props,t=n.resetModals,r=n.showEditModal,o=n.handleSubmit;return a.a.createElement(we,{isOpen:r},a.a.createElement(Se,{icon:"icon-play",header:"Edit movie",onSubmit:o(this.onSubmit),noValidate:!0},a.a.createElement(je.a,{name:"Title",label:"Title",icon:"icon-subject",component:this.renderInput}),a.a.createElement(je.a,{name:"Year",label:"Year",icon:"icon-calendar",component:this.renderInput}),a.a.createElement(je.a,{name:"Genres",component:nn,manualValidate:function(){return e.props.dispatch(Object(E.a)("editMovie","_validation",Math.random()))}}),a.a.createElement(je.a,{name:"Runtime",label:"Runtime",icon:"icon-clock",component:this.renderInput}),a.a.createElement(je.a,{name:"Director",label:"Director",icon:"icon-user",component:this.renderInput}),a.a.createElement(je.a,{name:"_validation",component:function(){return a.a.createElement("span",{style:{display:"none"}})}}),a.a.createElement(C,{color:"white",background:"var(--main-color)",type:"submit"},"Update"),a.a.createElement(C,{color:"white",background:"var(--danger-color)",type:"button",onClick:t},"Cancel")))}}]),n}(r.Component),on=Object(d.b)(function(e){var n=e.movies;return{showEditModal:n.showEditModal,initialValues:n.selectedMovie,movieItems:n.movieItems}},{updateMovieItems:function(e){return function(n){n({type:"UPDATE_MOVIE_ITEMS",payload:Object(b.a)({},k(e),{Title:y(e.Title)})}),n(x()),n(T("Movie updated successfully"))}},resetModals:x})(Object(ye.a)({form:"editMovie",enableReinitialize:!0,validate:w})(an));function cn(){var e=Object(I.a)(["\n  font-size: 1.7rem;\n  margin: 2rem auto;\n"]);return cn=function(){return e},e}function ln(){var e=Object(I.a)(["\n  fill: #f8bb86;\n  width: 8rem;\n  height: 8rem;\n  display: block;\n  margin: 0 auto;\n"]);return ln=function(){return e},e}var un=S.b.svg(ln()),sn=S.b.div(cn()),mn=Object(d.b)(function(e){var n=e.movies;return{showDeleteModal:n.showDeleteModal,Title:n.selectedMovie.Title}},{resetModals:x,deleteMovie:function(){return function(e){e({type:"DELETE_MOVIE"}),e(x()),e(T("Movie deleted successfully"))}}})(function(e){var n=e.showDeleteModal,t=e.Title,r=e.resetModals,o=e.deleteMovie;return a.a.createElement(we,{isOpen:n},a.a.createElement(un,null,a.a.createElement("use",{xlinkHref:"./sprite.svg#icon-notification"})),a.a.createElement(sn,null,'Are you sure you want to delete "',t,'"?'),a.a.createElement(C,{color:"white",background:"var(--danger-color)",onClick:o},"Delete"),a.a.createElement(C,{color:"white",background:"var(--main-color)",onClick:r},"Cancel"))});function dn(){var e=Object(I.a)(["\n  margin-bottom: 3rem;\n  background: white;\n  width: 100%;\n  padding: 1.5rem;\n  text-align: center;\n  box-shadow: 0 .1rem .6rem 0 rgba(0, 0, 0, .2);\n  font-weight: bold;\n  animation: "," 2s forwards 3s;\n  color: var(--success-color);\n  border-left: .4rem solid currentColor;\n  transition: .3s;\n"]);return dn=function(){return e},e}function bn(){var e=Object(I.a)(["\n  from { \n    opacity: 1;\n  }\n  to {\n    opacity: 0;\n  }\n"]);return bn=function(){return e},e}var pn=Object(S.c)(bn()),fn=S.b.div(dn(),pn),vn=function(e){return a.a.createElement(fn,e,e.message)};function hn(){var e=Object(I.a)(["\n  position: fixed;\n  width: 30rem;\n  left: 2rem;\n  bottom: 0;\n  z-index: 5;\n"]);return hn=function(){return e},e}var gn=S.b.div(hn()),En=Object(d.b)(function(e){return{toasts:e.global.toasts}},{removeToast:function(e){return{type:"REMOVE_TOAST",payload:{id:e}}}})(function(e){var n=e.toasts,t=e.removeToast;return i.a.createPortal(a.a.createElement(gn,null,n.map(function(e){var n=e.id,r=e.message;return a.a.createElement(vn,{message:r,key:n,onAnimationEnd:function(){return t(n)}})})),document.getElementById("toastMount"))}),On=function(e){function n(){return Object(c.a)(this,n),Object(u.a)(this,Object(s.a)(n).apply(this,arguments))}return Object(m.a)(n,e),Object(l.a)(n,[{key:"componentDidMount",value:function(){this.props.fetchMovies()}},{key:"render",value:function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement(z,null),a.a.createElement("main",null,a.a.createElement(fe,null)),a.a.createElement(rn,null),a.a.createElement(on,null),a.a.createElement(mn,null),a.a.createElement(En,null))}}]),n}(r.Component),wn=Object(d.b)(null,{fetchMovies:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"iron man";return function(){var n=Object(v.a)(f.a.mark(function n(t){var r,a,o,i,c,l,u,s,m,d,b,p,v,h,E,O,w,y,k,D;return f.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,g.a.get("".concat(M,"&s=").concat(e));case 3:if(r=n.sent,a=r.data,o=a.Response,i=a.Search,"True"!==o){n.next=39;break}c=i.map(function(e){return e.imdbID}),l={},u=!0,s=!1,m=void 0,n.prev=11,d=c[Symbol.iterator]();case 13:if(u=(b=d.next()).done){n.next=24;break}return p=b.value,n.next=17,g.a.get("".concat(M,"&i=").concat(p));case 17:v=n.sent,h=v.data,E=h.Title,O=h.Year,w=h.Runtime,y=h.Genre,k=h.Director,D=j(),l[D]={id:D,Title:E,Year:O,Runtime:w.split(" ")[0],Genres:y.split(","),Director:k};case 21:u=!0,n.next=13;break;case 24:n.next=30;break;case 26:n.prev=26,n.t0=n.catch(11),s=!0,m=n.t0;case 30:n.prev=30,n.prev=31,u||null==d.return||d.return();case 33:if(n.prev=33,!s){n.next=36;break}throw m;case 36:return n.finish(33);case 37:return n.finish(30);case 38:t({type:"SET_MOVIES",payload:l});case 39:n.next=44;break;case 41:throw n.prev=41,n.t1=n.catch(0),n.t1;case 44:case"end":return n.stop()}},n,this,[[0,41],[11,26,30,38],[31,,33,37]])}));return function(e){return n.apply(this,arguments)}}()}})(On);function jn(){var e=Object(I.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background: #F2DEDE;\n  width: 100%;\n  height: 100vh;\n"]);return jn=function(){return e},e}var yn=function(e){function n(){var e,t;Object(c.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(t=Object(u.a)(this,(e=Object(s.a)(n)).call.apply(e,[this].concat(a)))).state={hasErr:!1},t}return Object(m.a)(n,e),Object(l.a)(n,[{key:"render",value:function(){return this.state.hasErr?a.a.createElement(kn,null,"Oops! Something went wrong."):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{hasErr:!0}}}]),n}(r.Component),kn=S.b.div(jn()),Mn=yn,Dn=t(7),xn=t(102),Tn=t(56),In={movieItems:{},selectedMovie:{},showAddModal:!1,showDeleteModal:!1,showEditModal:!1},Sn={toasts:[]},An=t(89),_n=Object(Dn.combineReducers)({movies:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:In,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"SET_MOVIES":return Object(b.a)({},e,{movieItems:n.payload});case"SET_SELECTED_MOVIE":return Object(b.a)({},e,{selectedMovie:Object(b.a)({},e.movieItems[n.payload])});case"SET_ADD_MOVIE_MODAL":return Object(b.a)({},e,{showAddModal:!0});case"SET_EDIT_MODAL":return Object(b.a)({},e,{showEditModal:!0});case"SET_DELETE_MODAL":return Object(b.a)({},e,{showDeleteModal:!0});case"UPDATE_MOVIE_ITEMS":return Object(b.a)({},e,{movieItems:Object(b.a)({},e.movieItems,Object(Tn.a)({},n.payload.id,n.payload))});case"DELETE_MOVIE":var t=e.movieItems,r=(t[e.selectedMovie.id],Object(xn.a)(t,[e.selectedMovie.id]));return Object(b.a)({},e,{movieItems:r});case"RESET_MODALS":return Object(b.a)({},e,{showAddModal:!1,showDeleteModal:!1,showEditModal:!1});case"ADD_MOVIE":return Object(b.a)({},e,{movieItems:Object(b.a)({},e.movieItems,Object(Tn.a)({},n.payload.id,n.payload))});default:return e}},global:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Sn,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"SET_TOAST":return Object(b.a)({},e,{toasts:Object(Be.a)(e.toasts).concat([n.payload])});case"REMOVE_TOAST":return Object(b.a)({},e,{toasts:e.toasts.filter(function(e){return e.id!==n.payload.id})});default:return Object(b.a)({},e)}},form:An.a}),Cn=t(99),Vn=t(100),Rn=Object(Dn.createStore)(_n,{},Object(Vn.composeWithDevTools)(Object(Dn.applyMiddleware)(Cn.a)));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(a.a.createElement(d.a,{store:Rn},a.a.createElement(Mn,null,a.a.createElement(wn,null))),document.getElementById("reactMount")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[128,2,1]]]);
//# sourceMappingURL=main.8017696a.chunk.js.map